!function(){"use strict";!function(a){function t(){if("no"===WILOKE_GLOBAL.isUserLoggedIn)return!1;a.ajax({type:"POST",url:WILOKE_GLOBAL.ajaxurl,data:{action:"wilcity_fetch_user_liked"},success:function(t){if(t.success)for(var s=Object.values(t.data),i="",e="",r=0;r<s.length;r++){var o=a('.wilcity-js-favorite[data-post-id="'+s[r]+'"]');if(o.length){var l=o.find(".la");o.hasClass("is-event")?(i="la-star",e="la-star-o"):(i="la-heart",e="la-heart-o"),l.removeClass(e),l.addClass(i),l.addClass("color-primary")}}}})}a.fn.wilcityFavoriteStatistic=function(){var t=a(this),s=t.data("postId"),i="",e=t.find(".la"),r="";t.hasClass("is-event")?(i="la-star",r="la-star-o"):(i="la-heart",r="la-heart-o"),s=s.toString(),t.on("click",function(a){if(t.prop("disabled",!0),a.preventDefault(),"no"===WILOKE_GLOBAL.isUserLoggedIn)return jQuery("body").trigger("onOpenLoginRegisterPopup"),!1;e.hasClass(i)?(e.removeClass(i),e.addClass(r),e.removeClass("color-primary")):(e.removeClass(r),e.addClass(i),e.addClass("color-primary")),jQuery.ajax({type:"POST",url:WILOKE_GLOBAL.ajaxurl,data:{action:"wilcity_favorite_statistics",postID:s}})})},a(document).ready(function(){"undefined"!=typeof WILCITY_GLOBAL&&(a(".wilcity-js-favorite").each(function(){a(this).wilcityFavoriteStatistic()}),t())})}(jQuery)}();
