!function(){"use strict";Vue.config.devtools=!0,null!==document.getElementById("wiloke-design-single-nav")&&new Vue({el:"#wiloke-design-single-nav",data:{aSingleNav:Object.values(WILOKE_LISTING_TOOLS.aSingleNavigation.aSections),savingXHR:null,savedMessage:"",aCustomFields:["text","textarea","select","gallery","image"],successMsg:"",errorMsg:"",postType:WILOKE_LISTING_TOOLS.postType,ajaxAction:WILOKE_LISTING_TOOLS.aSingleNavigation.ajaxAction},methods:{checkMove:function(e){return void 0===e.draggedContext.element.isDraggable||"yes"===e.draggedContext.element.isDraggable},reset:function(){var s=this;if(!confirm("Do you want to reset this setting?"))return!1;var t=jQuery(event.currentTarget).closest("form");t.addClass("loading"),jQuery.ajax({type:"POST",url:ajaxurl,data:{action:this.ajaxAction,postType:this.postType,isReset:"yes"},success:function(e){e.success?(s.successMsg=e.data.msg,setTimeout(function(){s.successMsg="",location.reload()},1e4)):(s.errorMsg=e.data.msg,setTimeout(function(){s.errorMsg=""},1e4)),t.removeClass("loading")}})},removeItem:function(e,s){return void 0===s[e].isCustomSection?(alert("You can not delete the default sections, but you can disable it"),!1):!!confirm("Do you want to delete this section?")&&void this.aSingleNav.splice(e,1)},addNewSection:function(){var e=new Date;this.aSingleNav.push({name:"Custom Section",key:e.getTime(),icon:"la la-image",isCustomSection:"yes",isShowOnHome:"yes",status:"yes",content:""})},addNewSectionToTop:function(){var e=new Date;this.aSingleNav.unshift({name:"Custom Section",key:e.getTime(),icon:"la la-image",isCustomSection:"yes",isShowOnHome:"yes",status:"yes",content:""})},saveChanges:function(e){var s=this;null!==this.savingXHR&&200!==this.savingXHR.status&&(this.$form.addClass("loading"),this.savingXHR.abort());var t=jQuery(e.currentTarget).closest("form");jQuery("#wiloke-design-single-nav").addClass("loading"),this.savingXHR=jQuery.ajax({type:"POST",url:ajaxurl,data:{data:this.aSingleNav,action:this.ajaxAction,postType:this.postType},success:function(e){e.success?(s.successMsg=e.data.msg,setTimeout(function(){s.successMsg=""},1e4)):(s.errorMsg=e.data.msg,setTimeout(function(){s.errorMsg=""},1e4)),t.removeClass("loading")}})}},mounted:function(){}})}();
